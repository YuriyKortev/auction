"use strict";function isAN(t){return t instanceof Number&&(t=t.valueOf()),isFinite(t)&&t===parseInt(t,10)}$("#list > div").on("click",function(){$.get("/pictures/".concat($(event.target).parent().attr("id"))).done(function(t){$(".name").text('"'+t.name+'"'),$("#input_change").val(t.name),"true"==t.auction&&$("label.container > input[type=checkbox]").prop("checked",!0),$(".author").text(t.author),$(".imgFull").attr("src",t.url),$(".description").text(t.description),$(".start_price").text("Начальная цена: "+t.start_price),$(".min_step").text("Минимальный шаг: "+t.min_step),$(".max_step").text("Максимальный шаг: "+t.max_step)}),$("#fade").css("display","block"),$(".container").css("display","block"),$(".container").data("id",$(event.target).parent().attr("id"))}),$("#fade").on("click",function(){$("#selector option:selected").each(function(){this.selected=!1}),$(event.target).css("display","none"),$(".container").css("display","none"),$(".imgFull").attr("src",""),$(".description").text(""),$("#input_change").val(""),$("label.container > input[type=checkbox]").prop("checked",!1)}),$("#fade").on("mouseenter",function(){$(".cls_but").css("opacity","1")}),$("#fade").on("mouseleave",function(){$(".cls_but").css("opacity","0.4")}),$("#list > div").on("mouseenter",function(){$(event.target).closest("div").css("background","#c1c1c1")}),$("#list > div").on("mouseleave",function(){$("#list > div").css("background","#f1f1f1")}),$(".change").on("change",function(){"name"==this.value||"author"==this.value?$("#input_change").val($(".".concat(this.value)).text().replace(/"/g,"")):$("#input_change").val($(".".concat(this.value)).text().replace(/\D+/g,""))}),$("#input_change").keydown(function(t){13!==t.keyCode||"name"==$(".change").val()||"author"==$(".change").val()||isAN(Number.parseInt(this.value))?13===t.keyCode&&this.value!=$(".".concat($(".change").val())).text()&&"Изменено"!=this.value&&"Некорректно"!=this.value&&$.ajax({url:"/pictures/".concat($(".container").data("id"),"-").concat($(".change").val()),type:"PUT",data:{data:$("#input_change").val()},success:function(){switch($(".change").val()){case"author":$(".".concat($(".change").val())).text($("#input_change").val()),$("#".concat($(".container").data("id"))).children("p[data=author]").text($("#input_change").val()),$("#input_change").val("Изменено");break;case"name":$(".".concat($(".change").val())).text('"'+$("#input_change").val()+'"'),$("#".concat($(".container").data("id"))).children("p[data=name]").text('"'+$("#input_change").val()+'"'),$("#input_change").val("Изменено");break;case"start_price":$(".".concat($(".change").val())).text("Начальная цена: "+$("#input_change").val()),$("#input_change").val("Изменено");break;case"min_step":$(".".concat($(".change").val())).text("Минимальный шаг: "+$("#input_change").val()),$("#input_change").val("Изменено");break;case"max_step":$(".".concat($(".change").val())).text("Максимальный шаг: "+$("#input_change").val()),$("#input_change").val("Изменено");break;default:$(".".concat($(".change").val())).text($("#input_change").val()),$("#input_change").val("Изменено")}}}):$("#input_change").val("Некорректно")}),$("label.container>input").on("change",function(){var t=this.checked;$.ajax({url:"/pictures/".concat($(".container").data("id"),"-auction"),type:"PUT",data:{data:t}})});